from flask import Flask, request, abort, jsonify
from functools import wraps
from model import *

# DO NOT CHANGE THIS VARIABLE
LABEL_ALAM = {0: 'Air Terjun', 1: 'Campsite', 2: 'Danau', 3: 'Gunung', 4: 'Hutan', 5: 'Kebun', 6: 'Pantai', 7: 'Sungai'}
LABEL_BUATAN = {0: 'Bendungan', 1: 'Kebun Binatang', 2: 'Kolam Renang', 3: 'Museum', 4: 'Peternakan', 5: 'Religi', 6: 'Situs Purbakala', 7: 'Taman'}

# CHANGE THIS INSTEAD
PATH_MODEL_ALAM = "C:/Users/Administrator/Desktop/C23-PR589/ML/Model/ResNet50V2_20_A_Batch16_RMS_10-3_Train76_Val80.h5"
PATH_MODEL_BUATAN = "C:/Users/Administrator/Desktop/C23-PR589/ML/Model/ResNet50V2_20_N_Batch16_RMS_10-3_Train78_Val72.h5"
PORT = 5000
SECRET_KEY = "secret"

app = Flask(__name__)

# Decorator for checking API Key
def checkAPIKey(view):
    @wraps(view)
    def isAPIKeyValid(*args, **kwargs):
        if request.headers.get('apiKey') and request.headers.get('apiKey') == SECRET_KEY:
            return view(*args, **kwargs)
        else:
            abort(401)
    return isAPIKeyValid

# Route for Natural Tourism Prediction
@app.route('/alam')
@checkAPIKey
def predictAlam():
    image = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUVFBcVFRUYGBcaHCQbGxsbGhsdHR8iISEdIBsbGhsgICwmGx4pHhsiJjYlKS4wMzMzHiQ5PjkyPSwyMzABCwsLEA4QHRISHTQpICAyMjIyMjIyMDIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/AABEIALcBEwMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAAEBQADBgIBB//EAEoQAAECBAMEBgYGCAUCBwEAAAECEQADBCESMUEFUWFxBhMigZGhMkKxwdHwFCNSYnLhFSQzgpKi0vEHFlOywkNjNFRkk8Pi4xf/xAAYAQEBAQEBAAAAAAAAAAAAAAABAAIDBP/EACERAQEAAQUBAQEAAwAAAAAAAAABEQISITFBURNhAyKh/9oADAMBAAIRAxEAPwCv/DKWOsnKIdpYTyxKGX8MfQ5iLJtZ+G+MJ/hrL7M9W/Anwc++PoCSpkOlw4bjw84NfZnQWvSerWQ7C2rMSBn3x7SM6dwR8MoI2xPV1KgQADpuYhg3OKacF7P6I84wcj59ku5y+dIXVUtkG4yHmRDeah5ZsHZss9IU1+R1uBu1hqjmePqpu9leDmL6CQ0kKJsRa+ogScppS2+yfaQPIwZQyMUkM4IS98jygVLqRTyVhs5hL8yj+mGu1pLS/RAJUA7565PwhTs/9gk71j2nPwh3tkgy0NrMSPIxJYsDAw1UMm3j4wFUnCpWIYr2fkItQg4h2nSVh+42+eUX1E1PbOpUNBuH5wpltqOMThrI9qo0FMt1SwOJv+FjCfbiXzt2Uf7l384f0EjCZROqSf5UxmQ28AdpLdC3+WzgjZ6x1abCwDl20jnaUglCyMgDf4eEX0afqkdkHsjVjkHa0OORnhVKBwLIZjiuc7lWXhFyZGE3zwqvp6lh5wFKUoS2exDtv+XeGGLGtAawcu/d7YoqAo1YVzziFm73Byi9LqUAQ/ZDgXy0gWnl9upfMB33WJhtLbEQ7Na3JNoVaonLZSHSwuAN1hfiY9kdspex36+G+PaoutI0c88jrBEhABYaa/OUQZjpPKw1Em7hgB/EX5wXtOWyFXtaz3zF2ijpepp0nkP90E7ZbAQAWsQW4t5xUw02daWk2HZB43GcVbRmPLWM+PfHVAhpSdxSCb8BFFelxMcZA5aNv3xeD1bTTHlpuQSAx8jCegP1k8O/axHi4Bh3STEmWkszAaWyv3vCamQPpFQ2TJ80E+0QeKL64tPlDgB/OrWC5AIVNz/aHLkk3O68KdqVLzkHUJ95MN6OaFLnBRbthVnIuhGm7jCqlbN/Z6njrcMYCqVlc0A9nssQ+g3kxdWYsaVFmJ7JfkHijai2Um4cJWHBdyzuYkKljBJlE3cA8NDcQNPLgkZZaQxp6YdWDdYYMklgGtv1McLyPZAw3LMQ/IRYWQv6NCrgEPwMSO5NT2R2ki28xIuAxP8AhwlqeYd8z2BEb8TLSxuU/hGB6AScNNixKOMkgE2GFRS4GhOG/IRsJ00JIbTfDqvJ8dbXSoylKOTpvuuIvp5Z6xQFx2Rrz56QFtGqenW9rgM/EHKD0TgJizbMMRl6PxMCE11kkB7s+bZ+yE9cLE6Yh7Q8F1VQey5e4doFrF9l96x7YKYDrFNIWeA9og1E0pku+SSwe9wfKBa+X+rKLj1bd6Y9qQ0k5+gT/KYk8o5h+iyhoFD/AHLI9sE7RqHMsa4x4trC+SpqeXe7pt884u2qopwOXVjBOW45GIj5lUqw4j2iOJSiVF83N/DxgRKiQCTqB5xYibc8z7Ykq22oHrOEuWf5z7lQ3plFYks/7MewP4mEO0XWZxbKWktyv7od7AU6JJ+4oeBaKCj6yU8sj8T/AMKvhAEqYRJQq1kMG7xf50hlUrGHg6n/AIVQrp5j0ovcJIazs5z4Q0Im0tlHJNh4NyhgFpCkEZkH2pzgCodKMGEj2RfJbFLbPCSWzd0wRUEKj62oF3UE25MPnnBKlrTMUzC/uyeB1o/WKi+QQ/F8MHSZbqxE+tfwGsKcY1OhwSQ92+6ct8X0xUVBxf5aPKmY6kBIIclN7Zj+0dSEL9EjnEGb6WoxT5QDO2Qu1z/eG21Zf1Uy5Nkm/BRB84WdIZ4NXKAFsOe89tx5Q524tpUwOT2Ru0Vw5xelVRzgJUvW3h3awdVSB1S23E97P3boUbNlPKlqL3B3NZRDZwwSTgWnQg2F9PKKKutky8MoYiGN2f2wqkS/1ufh3ywA+9Cm9kNdkEdSlw+ftNoX0ih9LnH70rhooe+LxFu1x25at4I8APjBmzJxCpxAcOl3Ylikb+UAbcWesSnQYiPMf8RB+wurMybiUAWltp6p36wemva9eIpNwCWDiwuMrwNtVdkMGAJTr6wzvqWhntOUEqlZFL7tHGb5wFtuWMON81ggeXhCDeZNShIQokkAuz93IxTTTErASTd7XyB3nlAlSiZd0u+ZD2Gb84F7SCcJcGz6Dv1gysCvo4PrHwiQvTOV9pXd/eJBlFnRhOGlpxvlpV/F2v8AlDqckOGfvhfTJwCUgWwy0DwAHuhzKWgzAHI7Lbrnc+Vob2SqvPYHFYD+NoYS1gqU1+0fygbacsJMrCXSZgLHePLXzhhsyRjKg13PtHhFhZXrp2KbG7nyP5QNWyiJaVF2xJLaG8H13YwjPsqHsED7RU8oDJlJt4++KjIaopwaZZe4S/gQYu2wj9WTv6t+4IvBlVTj6KbX6snycebQBXJelHCRi8kwoqDCnQdWSfMR5tRblAGWO0dBYNKBZwhO/g/fAM+YSuW+t/KBoxlrOEB9RbvEWhGRHE+BgRE1r7mPgQYLRNcAAb/MwJSCVGe1nQB/IXgjo1VvLRcujGPEg++BqJYxTid7fy+cUdDlj6wHRKix3t+XlFBWwqSShOTMS2bsk/GFFGgGlxahx3Yj8YtnzwDhcsAdCRkN3OAtn/8AhAXIKuFj2yM+6EHs9BwLBb0TfXe0C3QtDaofmDhy8IlVNwpI1Lu+dhuc74qpC6r9pkA5neQO60KCmqH0qcDr1Y3fYflDNFQlypOeJ+7SMy36zO1ZSB8+EN6cnR/Sv3EQZODGrxFUpRt2reWkGIUAS75OTzhTUTCVS3BbGN+/Twi6qWEKyJzxPd9PnuhyCPpZJCZshaS2JRGmhTlw7UO6ylJlrPrKQVcmvbhpGe6Vzw9ONylf/H7o2JuBdyUKfdp4RAm2GT1AAYsoi2ebjLnDJGJIZgXBtrytCro2SZa0pzCzd2LEJ17oYTKm7EAkai4bcX4GIr9iKHVIGof2n4woXarqTqBLUPLKGHR5Z6rKwJ/sIUz3VWTnt9SF+BAHth8QDbi/rUAm4Sp/FUXbHWEzJpOeCWc/xAacIr20jFVMRmgnPXCSPOPdnKCpuHIGSnJswpQOeUZS+colSCrVQu1rnjnHW1ZzyS5BuEi1xcENutHO1Jh7PaJCSAkENbQt3QDtRChLSomylh27+4N74lT+vJWNSpyD54csoXEDC2JhqMyM8t+UStSoZEuD3MMuyNfbClSlFR1PLn4RVDEzdw1PtiQumLIJyiRITPmfWtw98HSJ/wBYTlbnlz5Qrq1j6RwYnzMMZdM8wB9M+QDxF5tOqdcgMGSSfNNiO6Gmz6rCtZAsVHmLwi2sAmdJBb0XJD79ePKNBstaSuYMxiB9t4gKqFiYoWZgkX4q/L2xRthhLItYp77/AJx5Xzh1i2y7HlAO21tLSd5EVqwc1k8pplki3VkeKW8IQVk/9UfE31I79G/OO6+oIp1sHGA3cPlezv3wl2tNakRleXL8y/u84c5Q5BP0UdkNgS6r5sIEqZeFcp9UYvd7odbUmpTSolpzZIIuMm+AvCuvmBVSkW9ActfGAoojQ6iCJEzKBlJwqAVYE3HDf87o7lK7BVu90RSgmvLmnRS1K9w9kA7BqurmTkjUFPc/9ovoSE04O9JbvfOFki1WtJzL+eExBoqqsIlqy9Ak4bM488oooKgiRLDnMa/eeKtrIaWojRBNuNm5RxTuJMknViOQESOVzDhPZcX7rWNtYNoJpUVBIP7NAL2yxa7mPlCebPcHl8vF1BPKVKY6Jy5GJF9Ep6mc92mYS3DrP6YfSZgCHbefPPyjMbCqT1s1Z1mk+S/6ocIX2eBGkFUNtpVAPVEXZbW1gOpm5nv490VLQVKk5gKU4000MVzgDlkwd7Qoj6TTz9QWyKm/lj6KJwJSzFgeWmZ7o+WdKZwaSOKj/sjdzFKBSQyHyctxy9kI9LejqlFM0A2CwT3uPdD+nldp0soBrPfiwjJdHKoiZUIYE4h5FeW/ONJLnKIs7/2s0GUI2G+CalOaZihfuhPULIrlggnFTKA09Zn5WMH7Cq264HPrFQv2rUBNfKU9l06023jEfnlGoAq3NWlStJYXfcAH/lGUD7NqwiaGz6k7jcTCb7rGPZs79blP/pNn91XwhXIWRVYQ/oqHJiCfZGUZVNRiLkAX0+JhhtqaPoxQw0UL8Ro+bGAKhCRLXqXBHiH1i5aRMlrJzCCdblue+KEfLdSAqxcAtc/PjpA6dnByXYAbrE345NDHo2pBk4lXbst7H+dIt2ipKlABgGYAMTmHAGnfuiwMsrVoGM/HgIkeVUvEtRG/7ulo8iPD2cHqUp3Bj/Gr3QxWWWGcdpQ7mEZ+nq1fSCsZj2w2VUglOb4idBo2mUNglB18z9alasB/uMO9n1TTJhbNjbTg3zlGdrbVkvkn2mG+zlp6ybi0a2+AwdUT8S1C2IlOXL84r6RYurQ59cMLbje0UBXbNs1pbwdom25pV1SfxnuCX/OJUJtVTSFXd0t4tC7a8x6eWk/9tA4dlR+ecNukMxIoyGAUUoA4+gfYkwr6QoSlaEJ9HrEp/lH9UUVP9vWlp/GL2bW1sssoW9YfppYsQl8uBJtygnbKgyCS7zE2Ggu7jeYGppeKumO7M+d2whn8YkPrZP7Mqa6iSW3Je47u+FkyeRKWw9VXsMN9qraZLu9l23C3xhSlD080u3YUWvdgctCdO+IuETx1KEtkkeyAUL/Xd7jxZH5QRM/Zy2N8At3BvKA6d/pyL6F3y9BQijJttmd9SsbwkfzCOqGbaQM2QbHJyGjjpIsCSpj6QQ2/0lO9s7eyPdnSu3KBs8kKvx1HC0R9ManAUKUAxszEMMg3GC9n0qDMmgOQkIuN+EEj+byhVWzylCklOuZz8d/wgnZlUyJq8RDksQWbChIG/VLRLJB0dmPiNrzFnh6OfnGgo5uQbzjIdGVuggaFRbuliNBREqIu3y/uis5EvBhWVYwygHcHefs2bdEmNYuW+0dTuDiAKst1HF9X9Wz98NUCWUkEscg9xctbXWIsZ0wS3UWPrZ2f0I1VYlS12d8hnkEuTfLOEH+IKx9QQ+EYgDwOAxqp9Wjq5RLeqHzscAU++z2Z4fAy2xqvqqmc+42e3pDONds6sC20c6i8YpCQqumhJ7KsWTZEgh2yjT0CcJCLO7P7C25oKoN2HIC11AxEHrD7TCnpXJ6utpCLOmYMz9k/1Qx2EvDMqgCbTB54vfC3phUFVXQZ5zE7swgeYMMQYIJrZIN3lvm3qrilCkprkh2crS+mT+Fs47oah6+VfKWA37pHvgHbigivASWGN3/Ehz5mLAtO9qL7Kmy/OCdgrCylKhYDN7eEIamY8tRLnibN3awy2QomUSDkSGJYH5eBZ5F9HqrB1sok9leEB2yJAvpHu0VnrMILnCQddRl8ecJNkzFmfPCVsol3FndTnIZHuhtMQFLTo6VZF8iiw4XitUdfQTrND8G/qESL0oQN3nEgyWU2Wxmk71JDal3y8PMQxmEvcWxtca7re6EGzJ4xEv6wJ8YbzqgZ643fU8zHRzy4mLJrUBdrDRgzEhoaUc366a1ge6ElNUYq9BWfVu98kn3wypZgMycpvWHczxixuUdTrxLzuZgPlu+com11MuUE5hMx/wCCAkzGUo7lpvzTf2Rztqpaakf9peu9x7oDnhT0hnvLkp+0pI8E6/xRRtyaTOlF/wDqjX8ED7VLrpU/aN+8oj3bjddKA/12HigQwZPukE4MhrPMSW8T74E2TUNVzC18AIHEhPxinbTAyu0/1gtA9OtqqYDmEJy/CiKThZ5N66c8y5dkO/PF/TEXPT9DWkBz1aib8DxtnCiomEzF8Ej/AJRXVpIkrOmFvERYWRKEhUpKhcpSh73yS7DmYDqV4a2Wq5sDnphVBU2VhlIOK+EFuHZzPc7fGE1dMIqkPmGD8bj3wwZPOkU15duHvgvZlV9YhyGEpCLszM7GE/SGeVSz3eR03R5s4qOMvkE+QEWOFlotrJdJbj5Aq90U7KcU5UXuVFs3upiRyELZlUQCCXsrX7qh740OwcKpEkB7AFVrHffJi/GA5yw/RlRwkjR33er8I0yJgASQS4RfwyhD0JWAieCHOAh/4W8xDKS5Sfw+WX5Q3sRbUTiFyn0+DQZV1eG53jTiLQur1jrJbMpn56tiGhENFJmqAmMMIUC1vtBiBzHy0BjN9L5uKWlSrDEWa+aTbMWtGqSZZlJUAwIllnd7p0Jt3Qh6cS0fRZZSkhlhzhABcHIgl8zDTYSgqkkPmpMryUlJ8xDeiUqmBG0Q+RCncfcOndDg1PbCsWHE4cunJs7fLwo219XtOVf10gn8XZ9hjTVexZRStaixUQcQzDi7DXLd4wUQPsOdhqalKi/bS5HJTGKemdSOsoVi+CoA7lFJ8Oz5QB0cqDLqKhNllwAySvEBjdsNgCwvxj3p7NAp5MxKvRmpUzuAwVkdWOoi9XgKjVhr1gZpsPFIibQUJm0Jd3BU755Sn78soCnzCK6a5JYkmxDgEHLwzi2vmD9ISykKANwGa3VWZxl3ZQs5N9py0lKzjcpGvP3e+L9hVREpaAzBZudLD4RzWhIlTdVYX4A2vndwb2hfs5RPWJu2MlhB4fXOzqhRqJ6kEs4STqb35OR5w2CiJicRLBKmJYfY+e6FWw1tPmpKbLmFIO4jFbjm0PKlGKYgDRKuOqIqo6TPHAd8ewDR1klSB1s1KZgdKwQ3aSSkkcCQ44ER5EcsjRllGz38nOuv5Q2nThobYw2+MumeesO6whlMm5X9b+xjphzo1cxqyUd6CH/ihpQTHmTUjVQbvJ+MZtVT+sSjqAR4uIb7PmgVJOhY2v6yYLDKZzlkGaGv1ifYTaF9fWFc0lbAiWoXa1zbwvHqp2JZ4zBnwSB4RnttyVCaA5UF346uM+fLugkWTSv2imZMklIV9WAQ+oJSyknUE5fnanaW00zJktvVnEnvUP6TFG35jypSwACCBlwccsozy1KTvDHzzfneGRRvNtTrygC4x2gWdUfrszR2H8g+EC1kwtIO9Tk6nK8VrnfriuaR/KBBgm9SsY5n4E+Pajna8wCSQNwDjXWBqmaOsXp2B7THG1pwMtnPyDEBiJq+rIvh6vXl6vJsoT1ynqEKzBUn2wymT3lt903hRtAHECMwd7ZMwHGKKdm22T9Wp/sg/wA4j3ZC7KbgX5gRVtJYUiZZuwG5u8UbOqwhPaLYsAZn0KXfS5HC8KPp6AQssHTLUbEahRfP7vnBWwlnq5eEl2uGzuR3+6FnWvKmkHNJA1PolmPeYrTtAy6ZDMSMRCbAkAlyODRitac24gLohVdWZ4OtvM+2GsiWtSMbsAAltSHz5P3xnNjrIM0faL+atedo0VFMPVto4c33+Eao9GVMnDNkWZKlKZhozd8axaAJLN9k+BCmv4RitobRQvqSg3Qsvne8u6d6Todc8iCdJtSvAEpIlqWxxtcegkncxDt4RlqAf8QJCE0eFIbthXhHHQ5XWUEgPdMwoN90wqHkUxR02qiuSkK7PZUVcHYd0Bf4bTP1ZSf/AFQPjLT/AEw+H0N0teXWS1XOFab72Kbc41e2kBQIChjBAQRmMSgCxBsAFZcA8ZPpep6mXxmlPgqXGzr0fVrJPssARYbsh4QXwfWOpFzJc+fLQFLWCHSlyFdlwCXsH9bMFmu0TpxPC6ZSglQLoxPdiAQMXP71/BouRMIrauYAo4ZiCopD4UsvE+t0gsxzCc496crT9DmBOEkrDlOpdJViOrkHN8hD6JAU2WU1UxV3VLTmoEEFMsknwJ5tugedOMytlFIJJS3ggg+zWO6+mw1KUAlKTKDkl1P1RYdokkYgOT2aKZAUKynU4USFNokDAuyjf+/OJlqKkfq8x7KKff8APjAuwpiU9ap2SFO/C9/zgvaZPUTcQZQTZsrtwHyYU7IlqVLmpSvAoKF2528tGinSzyz69qlMwl1BBmY3SSk+kbgjIh8ofUW15yUpWUmckdYAoYMeFKgCWCnV6IOQ1N9MrXSSuXiEs2UXKS4s2nfmPPQronVY5iJSvQGNQFu16JKTvuHbg+kNidVlVSLWpXXYHPoqlqJHDlu4NEjd4pf+mj+ER5FkYfOk0szH6PiA3ibQdOOTFBON2SSp+DgEP3xRPpZUmWgzJxWpfawpTn++q7fLCLti7REqX+zExLlnZwBztcQ2um1RUSZnWBZlqADXwkDTMxYueqWvEUqGmZHnBtRt+XPAT9WlII9JfV5avgaGdDsZNQWROlKY3AWJgH7oKb31g3fVtvhBI2iQT6dy9lEeJiivr1FYUCS4YXJLc7RrJnQwtgcBg2IG5ci5ThLDg55iE21ui1RLAUtGNz2lIKW/dS4Ldzm3KLMrNl+ElbVqUBLJLO4D5Z+GcSsSBIBHrEE87+72RWlMsqOHEbhk3tocRSMnfJue9tU7Fm9WFFSQLEJDqPtYecNsi0y16jHNlyTLSVFBALZhgHB8POPTT/XFapktHaDiYtKcvIgs8DyNjr7IWThwuWGZcgP2TprnAk/ZKkJcXszOd9jdtNIxu/rpswZ1qSJhV9JplWbCiaFPqzEC7xVXKmlKfq2xMBcEkkZBOb8GgOh6M1SmUJTA3CiR3Fs4bU3RCoCcXXJS13DlXIKcMfiYrqk9Oz+AF1KpbomIU7Fnsbb9+WhgarqsSTz+fdDmn6OBRxKWpR+RlHdXsRKR2UPzzg/XS1+VKfpRwkAuGAuxzAc35xRJqGBOoCT4KSR740qdip6v0UjI6aYf6fOKKbYCe12bb3bUHO0P6aR+VJ17RUhICVEAp0uGwp0NruYCnzTgStsSsmIfefYcma/Bxqp/RxBSnCljhD3J/tlujMVcnqwUlXaCzbdYhn3W3XvDpunVwsXTy5pqpSVKwlrve/jvhgraKyjDiLJSpRSGFwpGF2zsp2L5x5s/Y/WSwq7lLPo9m1bJt0GjYJTMxEWBJY/N4Lr0rZVe0lHtTEv6K1A5MUYQrzlsfhGmX0imJmSgsIVKxlCVkOplGZLBKUkBQ7JybIwjRseZ1YlgqJwrRcNZaVvfW5f8rQZ+ipmEAqSWwscIsROMx9z5jJmURxg36Vs1AuklaucnHMIZUlC0pSGSkqVLJLZkgiYHLli0ddA9pJl40qBwmdLJw3YqTNSGTmXLZZN4AbbkJlgdZMdWEBKQO0wVM0f72Z3iBuhq2qEulWHsnIm4mIuWG4m8alljNmDjpBWImTpSkKB+sUsg2LGYACxY+qR3EZiHu2ek4UkJl3SSElZSQxKsJABYlr5jTW8Y+uSpIpJgScaMRU4ZmmmYh30+sJg6tkpUtKUAtiQAQDhfrKtZJ4FRTfcRvgsHS7oxtNRmTSsKUqYZYmFgXJC3txvkDllewvSeXL+jgSlkkzAllLDlIQrASFMclJz35ZRRsOpVKWStCgkzEFyGAtNS5fiqK9o7PqCiUeomqAShRCUKUHwhByB0Qm/GL1YF9INqJVOTMkl0hASHBZxiBN82Dc28a6XaI+kU6/8ATOFQcAFyq4JswCxANbSThgT1U0ccEz7Sh9nv7xvhcsqQe2FJNrMUk5O3hnGoLH0fbe2ELlzEjVg4YghxdJBY+RinYZBVNvmXKSMrqcbjnv0jEy6lQSqXMUUqxMUlIHEA2+0AY0XR6tEsTCS4LYWILgOzXJbix7oMcMWVZsGSFypqVYi0w9kKUAWA0BDmFtHsYGYoJV1cyWkELSLYgSC43Hx95vRqaFTahN8Kj1iTcWKlaHgREQAZk7MZgEZi5AhF4df5mmI7M2QorFlEJcHcxCS9vkZRIA/TFRL7Blhbetk+rs9s4kGDu/ildXTz5eFRw4TiQbBSXzS+RT+URdDMlp7AcG4OYP4SQxgRKZVlS5QxggABJD/eAxHzcw3mzZctipcoqIc4WUb5FKkZ73tlrBdTrIzAoZiFoxIUBiFyC2muUHo2ehVUtBIYJxAhrFk3HjDZaETnmBZYABSnmISA1+0QzeJveApSJMtSVutyMJPWJUGGT9gKHnlrFuy1hNq1M+SZctFVOwLV2gJq7eiLdq2ZtHE/Z8pTqWqZMVoVFSvMu9oPlrp5ikOFLULoc4d33mVkOfCCl7RkjsqlrB3pIfwLCDcsEx26pCQgS5QKTc4ThP7oIL8X7oIpulcxAATKpwBcYULRfe4WX8IYLmU8xsQU7M60JU/gYGmyKO7pSwDk4ACwd/Wtbc8PHxcmlR0+nPKlLpEFUxsGGapJ7RwhwUWcxRUbamTZvVimCFgdpKVylE29XGUh/wB1ULUUv0uZJny1pPVFKS4SgkIXjDgrcHCrPIw323RU84ktgWfvII5llEQWT4ZXE/pROkoTLVSzOzbEtaMR5shvCwDNaAf/AOgEEpNO5yYzP/zgSolz5QaXVpUPslbt+6oKA7oTmhnLm9Z9WslTntIALAekkFLAgaM8U0T1XVfGkl9L1McKZUvmtRb93Al/4orlbaQVhc2cVAOcAEtKciMgrEc3Z90LESVrcfRpaiACerUoEO7EutW46e0RBsxRzpZnMTUgeaL+MWzT8O/V9aFXTKnAZOJuSf63i2X0kl/6Uw/hSkv39ZGPT0dnKmYUyydcOOUVhLhye22oEE12wRKCesTNSVZDAhZ7whRaC6NK36m/2VtETgt0GWlLACYAkk3e2IuBa/HhC/pNQyZsylQVJZUwpWMQCcOBRch7G1jHzybTSQSkqUkixBlkEEZgjMGJIp6YqAXNWlOpSh9LW3O2kM0SXK3WzDddFayUiklCZOloWnEkhUxCclqAsb5NDeZ0kpEm9RLP4SFNxZLkx8tT9Ha/XYuSGPBncc3L7hnF9OmStSUhKw9nWoJSNbqSFHyguiW5U1XGG5PT2lFjKmqULFQSnCTqUgrBwnRwDEm/4iUuRkTu8IHh24zcnZiHZIkKJLAmYtQfcfq0h+DiLKjo1VLWia1MnAzJQZmHsl7ggvfjDjSLdR1Mr6dyr9FzcTuoqlpxc3KiXhvsrbUxYKkUKuyLkmTL7yHcZPC9FVVj05UgnemYUd4Ckqv3wZsyvMoHHKBJ1E2V5u2sYzc9f9a4wZ1W2pktGM0iGAf9qkEcPQ8nhVsjp3NqsfUUaOwUglc9vSdv+n906x7XbRlTGxKKW0xSyCT+8Yz/AEJkfRjM62YgJXhYJUC+HG/EHtWjWeKzjlsU7crpgwGlp8KwxeoUzEMQ4T7IRU+xK2UhWCcmQgEGXLSpM4DNw60jCHZmzcxoaXa9MkglacWjBvn+8WbU23SmWp5iUk6nCGbK5g3nawFR0hrU1H0YrQsuBi6ts0hWSVbobrmV5ThP0VYscK0TNRuBMIxSPWdfilqQ7hKlMojBhFmbO7v8IdVc2qmlpSJFslFa5jaXwoA8XitnmFJS3aOz5yLqp5SFrD4pc5QFjngmAgN91oU0yJkuYUrRZXatgOYw2eyjd7XtzjQ0Ox6kzTMqJgWSGZJU3AAYQEjhBp2QtRURcGzOkG19V+6H9J7Wdlt4hd0dTLM5akzUhakAdX2ioNgLk5eqcn90MqShWjEpQH1ix6RUkC5btJSrN77nuQ9hKbZlRJ9AqKc2SoAPhYejNS5sLkvbSFy5MzGlqYIlpbHLCkBS2IsqYlAVcjRtWN4Zqz1XHXo1S9OZ1CsqN5ZvmhSlJPIveJDYCdM7fW0snFfqzKWoo+6VetziQ7mdtDolSjYS0C9uy2WXoqBjifsyVLZa5YxZsDMN31ClNfcfCEyK0P61txb+0EKrAQ+Nic3b2xw/2y92NODNYlKAS60p3Y8IOTu6T8IpmbLkaBZytiDZ6kJB4ZwskVSSTcm51HcBw4m8Xy6zcAXFns3HJzGuZ0ztguTQy0uRMCHewQ51+0s637oHm7PTnLmJz9bGDx0Le7jETWl2d9QL3aGUmSrAFKZIYqdR05DxgurHZmjPRRUyersZiSSHABU/MuMvbC+vqSmWGVclvSByLkEDMWG8RXUTcSlK3ufh5QunrxFnuNLvk/ujrpc9XS2XVYHvnc849/SO7PflHY2WV2KsLMTZ8wbaRSqUmUohkzDqVpUw5AK8zG+GeXk6sJ9IZ5l3JPrX3Eudd184uTtCzNYae6x1gCpIUQUpSN4SGHmSYpQh1BPFosZXoydUnGo5Yi26GsrbJCUgqPZAFidO+AqrZKpScSiCxyMBLSVXAFt3ODinmU7G01JK5iVdtepVpbU56RxT9JJqCS5Kz2XfRwdx1gNaWSkKFjkz3uS58Ws0VIpTMUQlnyvYeMEkNydya+SA82lmTF+srEACSXJZuMezJkpTBNHNzvcE8gG84Y41LHalzCUjPCQlXEKwq7s3g5FOolLoJG9iDbiwAHPNuMFwZln5CxicURUHsFTABysm/jBKpiyCE0khA1ClLXbiAoWh0aZIs0xWhLMHNiQ+RHfHS2QSyCSHYspWQADBrjhoSb6QZhxWFphMXMRLQCVKsADrnYZDuaLk7bqUgALOIOCAT7BaB0q6uakqDFKmu4bS+uuURFUkrACW49zWaN9stPRbVxIBmzZktW9JzOoFiRpmYsVXyTYVM5XEq9nZaMnXAKfAVZux3HeWDnlFbBSziUokm5DE82bz9sG2DLXqrpYI/WJznJi7774eMWLr5Y/685hyJ8xGWptnLmqIlEqIDtiSDzDtkSB8Hgn/AC3UsXSRwMyUO4krEG3+nLQfpGWw/WJw7x7o9G05Rf6+flvT7kwiV0amgAlSQdQZiOGTW846ldFphzWh+Cw3eWOXy0W2fVk8lV0sgH6TNA3qKR7Yi9pyRnUzSR+BvEJhIvonNButH/uW8cNvyilfRlST2p0oXv2/YyTBtn05/h7+mJOs+cT9xQPgSgRWva8r7c5XNYv3AQj/AEE/ZE+U+oKy3C4RaLFdH1thTNlPvC1nm4wQ7ZFnJ0dsSsu3nqpXfYLEVjakp2JPfi98wwq/y4QhWKdKEzEG7Uxm1tgcn4x1S9H0uesnIUGthUrm+VwzxcAfM2xKBP5f1xIo/Q9J9tXmPJ4kWYNrLImrdg77oO6md9l/wkK8gXhptdeGWliC6sxo18geI3nOEalvfWNdnp0qomJspJTzSR7Ysl7QVpFSZ6ssSm5lvCBZ6iVGLaNximtULixg1e3ZhSUEgJKSlrXe3w8Iz4MdS0FRAf8AKC/45e2prs4hitdhvhiNgoBSVVCEKN8sY4h0vbnC4Sw7YsXIGB5ktYNn8PbFBWwmUiEgKTMlTHupQVhTxGEks3GMpUlyToVeOsefSJibMBye/iY43aAH3fExdJ7hHdnA1MHWm2uUMpplpSoEl8Jbmxb2wupSAoHTOHTeFqnJ9tDaC1S1IXLRf7ikqDFwc/dCSlXdjrD2vmoMtQSVGxABUfZlCFElQUCA+9vO+vdFOhexdQiYpgMgGHIboYbLp8LGYAUkkFybEB8woDTIkPFtGR1aVKSXLhrE2y7LhgRB8ueo4gElIBAUsAMHAIxJALK7wm4MGTwMRPlJDFEsAfeUkXyA7T5aaRdTYnxgIwkOLEgDmLnkR4iKEVE3tXU6WBTjTrlhwLcu+dxbIXggLmKZpkwkAgspVyLYhiAxEEXCbXGVnxY3Kk6pmIOUpOjmwOehLnP8oGmbQSHBZShmMBZ9NWINmydxHvWTirAZk0KdrKUSQA6iMJN23gDMRymrLKxTJpKA6mWsFhY9kgscTi7hg9rPYizQE+ox4ihMoFIuAgDLJ8Whc5HSM4iWQtKsJIxAkDc7kCNWuaSSUzFAntJSqYC9rByCM97buMcFYUUlRJc4S2ED8Vjk9vyhlwMZKatYIR9WUhzm17GA0ISqYkKLAu5bgdOYhz0iIwymYkFTsSToHVYeMLdgMqplhWTqH8it0MvGRe8PKjDKUhSCbZk/OvujQbHqqZSFGbMnIWDkhSAk5sUuh07iH9sGqopC2SpAISXL3UR3DLmdYyO36NUuYopQRLd0kB0tucWsbeEEu7g2XTy0k2roTmmcriV24ejzjwbVpQThpytwwxTF/wDJhGF6074JkGYQSnJQwm4ycKs9xdIuPjGtkZmpqZO20Jf9Wl7nKlHl6K2jgbZQTeVKbigH/k8J5OxZy0BeJAByClh82yD6jWL5XRhZD9fKv9krV7E5xf6nn4fydq07OZUn+Ee+LP01TjKTIPNCD7oQjovM/wBZG4Df3EwMdgkKwmaAX1SRz1jnf8cvre+zxpV7fklx9FkDd2UnmfRjyXt+WlQV1Mp94QgeYEZ2n2JiFp172CXLaGyoitiEODNU4+4fbig/OfVvt8af/Ncr7CRyQn4xIyv6GT/5gfw//aJF+Wkb78AzJmMPugcraPIkd3KvTMAMVqU8SJGg8TBmz0jGHDjURIkGo6eziStDkpJSls8IbjZ/dpBKkpLAdqzks3GJEjjXbT0DWUqLBJLaghuRBb3wsxOlT8ADuYj3Bo9iRqM1VUHsg7846kUxbFmMLt3s3zviRI14xezRFAorCQkAnLtO/f8AGL0bHm54fRUUm6XBdt7Fo9iRlXsbOqJqQkOUosCTgL8WAcMIuTXzZaSpQOAWCgoOf6Qc8okSB0cJ21NUAyw5axKrE/ut7Yun7QqEsjrHLPZ2vexJ0sMhEiQ3TBNVwlPtOd1a5ipiiE6pL4SA59K57hF6NoTyZaSpSlM5yD7ym9u8iPIkZsnLUvSidtaeVY0zTgyZykg3vkX846FfPCEYp2NyElRxOCTqLZA6P8JEixwzuoKslOFEkrWfVUS3ZsciNRvhEKZaVJWU4QQSkODbItfjrEiRqDV2Z0RVM9GyicwTiOuZLR3ttUwSClaiU4hmxc3vvz3xIkXp8ZlSRHRJYCzR7Ejo5tBspK1SQXIZyL5Bzbk/tgqTTFWRDg3d/h8YkSOV7rr48rqVaA+K+nE89PygalnoxDrQq5spKyGOjhj5RIkAvZmKSQ/aMzN3xnPflHE2RJzBmAOzlar8w5iRIYK4+jU32l/xLiRIkOGX/9k="
    image = convert(image)
    image = preprocess(image)
    predictions = predict(MODEL_ALAM, image, LABEL_ALAM)
    return jsonify(predictions)

# Route for Artificial Tourism Prediction
@app.route('/buatan')
@checkAPIKey
def predictBuatan():
    return "This is buatan"

def init():
    global MODEL_ALAM, MODEL_BUATAN
    MODEL_ALAM, MODEL_BUATAN = load_model(PATH_MODEL_ALAM, PATH_MODEL_BUATAN)

if __name__ == '__main__':
    init()
    app.run(debug=True, port=PORT)